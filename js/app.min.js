/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";var t=!1;if("undefined"!=typeof window){var e={get passive(){t=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),n=[],i=!1,s=-1,a=void 0,d=void 0,l=void 0,r=function(t){return n.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},c=function(t){var e=t||window.event;return!!r(e.target)||(e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1))},u=function(){void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==a&&(document.body.style.overflow=a,a=void 0)},h=function(){if(void 0!==d){var t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10);document.body.style.position=d.position,document.body.style.top=d.top,document.body.style.left=d.left,window.scrollTo(e,t),d=void 0}},m=function(e,u){if(e){if(!n.some((function(t){return t.targetElement===e}))){var h={targetElement:e,options:u||{}};n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(n),[h]),o?window.requestAnimationFrame((function(){if(void 0===d){d={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,e=t.scrollY,o=t.scrollX,n=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-e,document.body.style.left=-o,setTimeout((function(){return window.requestAnimationFrame((function(){var t=n-window.innerHeight;t&&e>=n&&(document.body.style.top=-(e+t))}))}),300)}})):function(t){if(void 0===l){var e=!!t&&!0===t.reserveScrollBarGap,o=window.innerWidth-document.documentElement.clientWidth;if(e&&o>0){var n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);l=document.body.style.paddingRight,document.body.style.paddingRight=n+o+"px"}}void 0===a&&(a=document.body.style.overflow,document.body.style.overflow="hidden")}(u),o&&(e.ontouchstart=function(t){1===t.targetTouches.length&&(s=t.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(t,e){var o=t.targetTouches[0].clientY-s;!r(t.target)&&(e&&0===e.scrollTop&&o>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&o<0?c(t):t.stopPropagation())}(t,e)},i||(document.addEventListener("touchmove",c,t?{passive:!1}:void 0),i=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},p=function(e){e?(n=n.filter((function(t){return t.targetElement!==e})),o&&(e.ontouchstart=null,e.ontouchmove=null,i&&0===n.length&&(document.removeEventListener("touchmove",c,t?{passive:!1}:void 0),i=!1)),o?h():u()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")};const v=()=>{const t=document?.querySelector("[data-burger]"),e=document?.querySelector("[data-menu]"),o=document.querySelector("body"),n=document.querySelector("[data-close]"),i=document.querySelector("[data-overlay]");t?.addEventListener("click",(()=>{t?.classList.add("burger--active"),e?.classList.add("active"),i?.classList.add("active"),m(o)})),n.addEventListener("click",(()=>{t?.classList.remove("burger--active"),e?.classList.remove("active"),i?.classList.remove("active"),p(o)})),i.addEventListener("click",(t=>{t.target.closest(".header__panel")||(e?.classList.remove("active"),i?.classList.remove("active"),p(o))}))};const y=document.querySelectorAll(".mrt-needed__item");y.forEach((t=>{t.addEventListener("click",(()=>{y.forEach((t=>{t.classList.remove("active")})),t.classList.toggle("active")}))}));new class{constructor(t){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},t),this.modal=document.querySelector(".graph-modal"),this.speed=300,this.animation="fade",this._reOpen=!1,this._nextContainer=!1,this.modalContainer=!1,this.isOpen=!1,this.previousActiveElement=!1,this._focusElements=["a[href]","input","select","textarea","button","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._fixBlocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",function(t){const e=t.target.closest("[data-graph-path]");if(e){let t=e.dataset.graphPath,o=e.dataset.graphAnimation,n=e.dataset.graphSpeed;return this.animation=o||"fade",this.speed=n?parseInt(n):300,this._nextContainer=document.querySelector(`[data-graph-target="${t}"]`),void this.open()}t.target.closest(".js-modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(t){27==t.keyCode&&this.isOpen&&this.close(),9==t.which&&this.isOpen&&this.focusCatch(t)}.bind(this)),document.addEventListener("click",function(t){t.target.classList.contains("graph-modal")&&t.target.classList.contains("is-open")&&this.close()}.bind(this)))}open(t){if(this.previousActiveElement=document.activeElement,this.isOpen)return this.reOpen=!0,void this.close();this.modalContainer=this._nextContainer,t&&(this.modalContainer=document.querySelector(`[data-graph-target="${t}"]`)),this.modalContainer.scrollTo(0,0),this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.disableScroll(),this.modalContainer.classList.add("graph-modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("graph-modal-open"),this.enableScroll(),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(t){const e=this.modalContainer.querySelectorAll(this._focusElements),o=Array.prototype.slice.call(e),n=o.indexOf(document.activeElement);t.shiftKey&&0===n&&(o[o.length-1].focus(),t.preventDefault()),t.shiftKey||n!==o.length-1||(o[0].focus(),t.preventDefault())}focusTrap(){const t=this.modalContainer.querySelectorAll(this._focusElements);this.isOpen?t.length&&t[0].focus():this.previousActiveElement.focus()}disableScroll(){let t=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=t,document.body.style.top=-t+"px"}enableScroll(){let t=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scrollTo({top:t,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let t=window.innerWidth-document.body.offsetWidth+"px";this._fixBlocks.forEach((e=>{e.style.paddingRight=t})),document.body.style.paddingRight=t}unlockPadding(){this._fixBlocks.forEach((t=>{t.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}({isOpen:t=>{},isClose:()=>{document.querySelectorAll(".mrt-needed__item").forEach((t=>{t.closest(".active")&&t.classList.remove("active")}))}});v()})();
//# sourceMappingURL=app.min.js.map